<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Main</title>
  <style>
    *{
    margin: 0;
    padding: 0;
    }

    body{
    width: 90%;
    margin: 30px auto;
    color: #111;
    box-sizing: border-box;
    }

    table{
    border: 1px solid #111;
    border-collapse: collapse;
    width: 100%;
    table-layout: fixed;
    }

    tbody{
    width: 100%;
    }

    h3{
    margin-bottom:8px;
    }

    th, td{
    border: 1px solid #111;
    text-align: left;
    padding: 4px 10px;
    vertical-align: top;
    word-break: break-word;
    }

    :is(th, td):first-child{
    width: 10%;
    max-width: 105px;
    }

    ul,ol,li{
    list-style: none;
    }

    a{
    text-decoration: under-line;
    color : #111;
    }

    h2+h3{
    font-weight: 500;
    color: #999;
    }

    p{
    color : #999;
    }

    .inner-table{
    box-sizing: border-box;
    padding:  5px;
    }

    .comment-table{
    border: 1px solid #999;
    color: #999;
    }

    .comment-table :is(th, td):first-child{
    width: 100px;
    }

    .btn a{
    color: #111;
    font-size: 16px;
    font-weight: 500;
    text-decoration: none;
    }

    .btn span{
    margin: 0 6px;
    color: #555;
    }
  </style>
</head>
<body>
<h2>Main</h2>
<div class="btn">
  <a href="/">
    ⚙ 돌아가기
  </a>
  <span> | </span>
  <a href="javascript:history.back()">◀️</a>
  <a href="javascript:history.forward()">▶️</a>
</div>
<br/><br/>
<table>
  <tr>
    <th>Id</th>
    <th>Url</th>
    <th>Method</th>
    <th>출력내용</th>
    <th>HTML Page</th>
  </tr>
  <tbody th:each="article : ${articles}">
  <tr>
    <td th:text="${article.id}"></td>
    <td th:text="${article.url}"></td>
    <td th:text="${article.method}"></td>
    <td>
      <a
          th:if="${article.id == 2 or article.id == 5}"
          th:href="@{${#strings.replace(article.url, '{id}', '7')}}"
          th:text="${article.content}">
      </a>
      <a
              th:if="${article.id == 6}"
              th:href="@{${#strings.replace(article.url, '{id}', '3')}}"
              th:text="${article.content}">
      </a>
      <a
              th:if="${article.id == 7}"
              th:href="@{${#strings.replace(article.url, '{id}', '11')}}"
              th:text="${article.content}">
      </a>
      <a
              th:if="${article.id == 8}"
              th:href="@{${#strings.replace(#strings.replace(article.url, '{id}', '15'),
              '{commentIndex}', '3')}}"
              th:text="${article.content}">
      </a>
      <a
            th:unless="${article.id == 2 or article.id == 5 or article.id == 6
            or article.id == 7 or article.id == 8}"
            th:href="@{${article.url}}"
            th:text="${article.content}">
      </a>
    </td>
    <td th:text="${article.htmlPage}"></td>
  </tr>
  <tr th:if="${commentsByArticleId[article.id] != null and commentsByArticleId[article.id].size() > 0}">
    <td colspan="5" class="inner-table">

      <table class="comment-table">
        <tr>
          <th>Comment Id</th>
          <th>Comment</th>
        </tr>
        <tr th:each="comment : ${commentsByArticleId[article.id]}">
          <td th:text="${comment.id}"></td>
          <td th:text="${comment.comment}"></td>
        </tr>
      </table>
    </td>
  </tr>
  </tbody>
</table>
</body>
</html>